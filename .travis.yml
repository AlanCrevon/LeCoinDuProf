dist: trusty
sudo: false
language: node_js
node_js:
  - '12'
addons:
  chrome: stable
cache:
  directories:
    - './node_modules'
install:
  - npm install
before_script:
  - npm install -g @ionic/cli
script:
  - npm run prebuild
  - if [ "$TRAVIS_BRANCH" == "develop" ]; then
    ionic build --configuration=staging;
    fi
  - if [ "$TRAVIS_BRANCH" == "master" ]; then
    ionic build --configuration=production;
    fi
before_deploy:
  - (cd functions && npm install)
deploy:
  - provider: firebase
    on:
      branch: develop
    skip_cleanup: true
    message: 'Deploying LeCoinDuProf to STAGING'
    project: default
    token:
      secure: 632cmWjSrs7ZuzecHiCbC7D0sxpM6/ue3Uu3Zsj3CAMUnpQTjqJNiTQbG0QqyaQaXSciAkahWaJkHaIgKlKGhhkudb9JA9/aUGYyekZwspWVJnwzfXU5RMEksbEt6owSGJadu19xRmLTDFko/4ZO2qfYc7WR8kgEVoikVBxLuX4ZoDoTK3TOaUFd+IBGu7ZrwbiZXUC7kraW2wZOjHlKEfEt95gEOA2YSMbJBKX0yZW+qARYgEN4yRRBYoODUIaEHCh6ZjQq+60E5bJlYqy13g0M6fRplVqIa3crYX7PuROYcEqGv2S4eotTwClBcEf4EG9e15DGs1jowCZEdZSOiV8mXSUTM8lalspWlxCPCBciCsItvvkgg+v3kk32Cu946+HopOckrsMDR4dLHibDW+UTwoYVscJL1wOWnsJKa2EYoEaP7syNoSu38rED+Q2dE4V3CwIfdp8kJ/fRgjoPuy8G25xAKGETIOUL2Qlx1R8HxearGYf+uygfFIcfdj8SzhOaYjU5/sDuXjUbk6CFyO9xMpdPDi4sy7wZ1GqLAx3EK14+km6UV1nzPWxRGG+Gq4eAYf5glpEALzMXkLuwaLfWgEKJu6SgQwruy3m5Mu1kh6ozqwQb/kYTGgC6G7l8ZmMLHHKDDVW+DuFn/GbMG4lV8caPTEeo43zrnW3chBg=
  - provider: firebase
    on:
      branch: master
    message: 'Deploying LeCoinDuProf to PRODUCTION'
    skip_cleanup: true
    project: production
    token:
      secure: kmrwnDI7rH+E9ca65H3DqtjNraxaRnj54MTPtl98Mvaxo1myo8PgEcF4ttcUnQ/yAvbB7uU00qlW6bkkkio3uVWKVcJc7HgEmYmbpIy4Sixjv+ks2sUjGq9j8W4ebnMCBpiHiCfFW8h7Bh1Inu5Mt1+aW3wnjXsSy4gPtpK+cCjN6CB3Sy8Zxvl0xAVC8OC0pFHYImq6z11thopuIPFofofZ4iSU22XT8UNCd0NkhDFxgjqZndC4HRDfQ8pm+GcpfhbtZ03/E3LCoDO4q1ZGCVHRYHTc/68AW8Hli8+8FI3geNR9PNwLbjtIhLdazhg0nvRXQ/TklTU1P3EC64QPOTAe7nRqzSR/tgRk85ub5ZIuzL8KepoiHHJ8QZ424evOpr8HeNAl3/Kb58m4xkZGz3u/L2DqbzHsrOu0fH8PD7DetM7NOEf8Zj/nPPw92HgBuXIVn8/FxRfaHUBWTGIUxCTdQUGUqhamkFfDJfac9MWT73JPGDGGC2BvyCqt2bNd8opF12X91Y+oDupDW7AuTir89brVwY5CtjxE51onjbIs2Nbirs5FWtARqy5krM7+5PIKXTr3DoIBI+tQ6DfFxQ94HQtJtnyej4JfVOKZX0FW64QtHTEum0hESKK4ZEZrzNK13OGU8uqbh76K7/UNFHUdRjBc++cdvraZQ3yncwo=
